<!DOCTYPE HTML>
<html lang="en-US">
    <head>
        <title>Register</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="description" content="GoNews is all about golang" />
        <meta name="keywords" content="Go, Golang, Go News" />
        <meta name="author" content="Ardi Gunawan" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

        <link rel="shortcut icon" href="theme/images/favicon.png" />
        <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700%7CLibre+Baskerville:400,400italic,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css"  href='theme/css/clear.css' />
        <link rel="stylesheet" type="text/css"  href='theme/css/common.css' />
        <link rel="stylesheet" type="text/css"  href='theme/css/font-awesome.min.css' />
        <link rel="stylesheet" type="text/css"  href='theme/css/carouFredSel.css' />
        <link rel="stylesheet" type="text/css"  href='theme/css/sm-clean.css' />
        <link rel="stylesheet" type="text/css"  href='theme/style.css' />

        <script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script>
            $(document).ready(function() {         
                $("#form-test").on("submit", function (e) {
                    e.preventDefault();

                    var $self = $(this);
                    var payload = JSON.stringify({
                        Name: $('[name="name"]').val(),
                        Email: $('[name="email"]').val(),
                        Password: $('[name="password"]').val()
                    });

                    $.ajax({
                        url: "/register",
                        type: $self.attr("method"),
                        data: payload,
                        contentType: 'application/json',
                    }).then(function (res) {
                            console.log(res)
                            var jsonData = jQuery.parseJSON(res);  
                            console.log(jsonData["Errors"])
                        if (jsonData["Errors"] === null) {
                            alert("Registrasi Berhasil! Silahkan Login")
                            setTimeout(function() {
                                window.location.href = "/login";
                                }, 500);
                        } else {
                            alert('Gagal Registrasi. Error : '+jsonData["Errors"])
                        }
                    });
                });
            });
        </script>
        
    </head>

    <body class="contact page page-template-default">

        <!-- Preloader Gif -->
        <table class="doc-loader">
            <tbody>
                <tr>
                    <td>
                        <img src="theme/images/ajax-document-loader.gif" alt="Loading...">
                    </td>
                </tr>
            </tbody>
        </table>

        <!-- Left Sidebar -->
        <div id="sidebar" class="sidebar">
            <div class="menu-left-part">
                <div class="site-info-holder">
                    <div class="site-title">GoNews</div>
                    <p class="site-description">
                        News about Golang is Here
                    </p>
                </div>
                <nav id="header-main-menu">
                    <ul class="main-menu sm sm-clean">
                        <li><a href="/">Home</a></li>
                        <li><a href="/about">About</a></li>
                        <li><a href="/contact">Contact</a></li>
                        <hr>
                        <li><a href="/articles">Articles</a></li>
                        <li><a href="/about-post">About Post</a></li>
                        <li><a href="/contact-list">Contact List</a></li>
                        <hr>
                        <li><a href="/login">Login</a></li>
                        <li><a href="/register">Register</a></li>
                        <hr>
                        <li><a href="/logout">Logout</a></li>
                    </ul>
                </nav>
                <footer>
                    <div class="footer-info">
                        Â© 2020 GOLANG 10. <br> BUILT WITH <i class="fa fa-heart"></i> BY ARDI GUNAWAN. 
                    </div>
                </footer>
            </div>
            <div class="menu-right-part">
                <div class="logo-holder">
                    <a href="/">
                        <img src="theme/images/logo.png" alt="GONEWS">
                    </a>
                </div>
                <div class="toggle-holder">
                    <div id="toggle">
                        <div class="menu-line"></div>
                    </div>
                </div>
                <div class="social-holder">
                    <div class="social-list">
                        <a href="#"><i class="fa fa-twitter"></i></a>
                        <a href="#"><i class="fa fa-youtube-play"></i></a>
                        <a href="#"><i class="fa fa-facebook"></i></a>
                        <a href="#"><i class="fa fa-vimeo"></i></a>
                        <a href="#"><i class="fa fa-behance"></i></a>
                        <a href="#"><i class="fa fa-rss"></i></a>
                    </div>
                </div>
                <div class="fixed scroll-top"><i class="fa fa-caret-square-o-up" aria-hidden="true"></i></div>
            </div>
            <div class="clear"></div>
        </div>

        <!-- Contact Content -->
        <div id="content" class="site-content">
            <article>
                <div class="content-1070 center-relative entry-content">
                    <div class="content-900 center-relative">
                        <h1 class="entry-title">REGISTER FORM</h1>
                        <div class="one_half ">
                            <br>
                            <div class="contact-form">
                                <form method="POST" id="form-test">
                                    <p><input id="name" type="text" name="name" placeholder="Name" required></p>
                                    <p><input id="email" type="email" name="email" placeholder="Email" required></p>
                                    <p><input id="password" type="text" class="form-control" name="password" placeholder="Password" required></p>
                                    <p><input type="submit" value="REGISTER"></p>
                                </form>
                            </div>
                        </div>
                        <div class="clear"></div>
                    </div>
                </div>
            </article>
        </div>

        <!--Load JavaScript-->
        <script type="text/javascript" src="theme/js/jquery.js"></script>
        <script type='text/javascript' src='theme/js/imagesloaded.pkgd.js'></script>
        <script type='text/javascript' src='theme/js/jquery.nicescroll.min.js'></script>
        <script type='text/javascript' src='theme/js/jquery.smartmenus.min.js'></script>
        <script type='text/javascript' src='theme/js/jquery.carouFredSel-6.0.0-packed.js'></script>
        <script type='text/javascript' src='theme/js/jquery.mousewheel.min.js'></script>
        <script type='text/javascript' src='theme/js/jquery.touchSwipe.min.js'></script>
        <script type='text/javascript' src='theme/js/jquery.easing.1.3.js'></script>
        <script type='text/javascript' src='theme/js/main.js'></script>
        
    </body>
</html>
